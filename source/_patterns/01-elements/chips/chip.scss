@use "../../../css/partials.meta";
@use "chip.variables";
@use "@db-ui/base/build/scss/variables";
@use "../../../css/helpers/functions";
@use "../../00-base/icons/icons.helpers";

.elm-chip {
	& + label {
		--db-focus-outline-size: max(2px, 0.08em);

		align-items: center;
		border: solid 1px variables.$db-color-cool-gray-400;
		border-radius: chip.$chip---radius;
		display: inline-flex;
		font-weight: 500;

		// Link related styles
		font-size: functions.to-rem($pxValue: 14);
		height: functions.to-rem($pxValue: 28);
		justify-content: center;
		padding-left: functions.to-rem($pxValue: 7);
		padding-right: functions.to-rem($pxValue: 7);
		text-decoration: none;
		text-transform: capitalize;
		white-space: nowrap;

		// Icons
		&[data-icon],
		&[data-icon-before] {
			@include icons.iconMeta(20);
		}

		&[data-icon-after] {
			@include icons.iconMeta($size: 20, $position: "after");
		}
	}

	&:not(:disabled, :checked) {
		// States
		& + label:hover {
			background-color: chip.$chip-hover--backgroundColor;
		}
	}

	&:checked {
		& + label {
			background-color: chip.$chip-selected--backgroundColor;
			border-color: transparent;
			color: chip.$chip-checked--color;

			//*** Variants ***
			&[data-variant="light"] {
				background-color: variables.$db-color-cool-gray-200;
				color: variables.$db-color-cool-gray-700;
				border: 1px solid variables.$db-color-cool-gray-400;
			}

			&[data-variant="warning"] {
				background-color: variables.$db-color-warning;
			}

			&[data-variant="error"] {
				background-color: variables.$db-color-error;
			}

			&[data-variant="informative"] {
				background-color: variables.$db-color-informative;
			}

			&[data-variant="success"] {
				background-color: variables.$db-color-success;
			}

			// POIs
			&[data-variant="poi-essen-trinken"] {
				background-color: variables.$db-color-food-drink;
				color: variables.$db-color-cool-gray-700;
			}

			&[data-variant="poi-einkaufen"] {
				background-color: variables.$db-color-shopping;
			}

			&[data-variant="poi-gesundheit"] {
				background-color: variables.$db-color-health;
			}

			&[data-variant="poi-kunst-kultur"] {
				background-color: variables.$db-color-arts-culture;
			}

			&[data-variant="poi-wissenswertes"] {
				background-color: variables.$db-color-things-to-know;
			}

			&[data-variant="poi-freizeit"] {
				background-color: variables.$db-color-leisure;
			}

			&[data-variant="poi-zivile-rel-einrichtungen"] {
				background-color: variables.$db-color-community-facilities;
			}

			&[data-variant="poi-dienstleistungen"] {
				background-color: variables.$db-color-services;
				color: variables.$db-color-cool-gray-700;
			}

			&[data-variant="poi-db-services-einrichtung"] {
				background-color: variables.$db-color-db-services-facilities;
			}

			&[data-variant="poi-wegeleitung"] {
				background-color: variables.$db-color-guidance;
			}
		}
	}

	&:disabled {
		& + label {
			opacity: 0.5;
		}
	}

	&:focus-visible {
		& + label {
			outline: var(--db-focus-outline-size)
				var(--db-focus-outline-style, solid)
				var(--db-focus-outline-color, currentColor);
			outline-offset: var(
				--db-focus-outline-offset,
				var(--db-focus-outline-size)
			);
		}
	}

	&[type="checkbox"],
	&[type="radio"] {
		@include functions.a11y-visually-hidden($partial: partials.$partial);
	}
}
