@charset "utf-8";

@use "../../../css/partials.meta";
@use "checkbox.variables";
@use "../form-elements";
@use "@db-ui/base/build/scss/variables";
@use "../../../css/helpers/functions";
@use "../../00-base/icons/icons.helpers";

.elm-checkbox {
	--db-form-element-dimensions: var(
		--db-checkbox-dimensions,
		#{functions.to-rem($pxValue: 24)}
	);

	align-content: center;

	appearance: none;
	background-color: checkbox.$checkbox---backgroundColor;
	border: #{functions.to-rem($pxValue: 1)} solid checkbox.$checkbox---borderColor;
	border-radius: 4px;
	color: checkbox.$checkbox---color;

	display: inline-flex;
	height: var(--db-form-element-dimensions);
	justify-content: center;
	width: var(--db-form-element-dimensions);

	& {
		@extend %form-element-enhanced-clickable-area;
		@include icons.icon("\00A0", 24, "outline", $partial: partials.$partial);
	}

	&[type="checkbox"] {
		vertical-align: top;
	}

	&::before {
		--icon-font-size: 1.375rem;
		margin-right: 0;
	}

	&:checked {
		background-color: checkbox.$checkbox--checked-backgroundColor;

		&::before {
			color: checkbox.$checkbox--checked-color;
			content: icons.glyph(done);
		}
	}

	&:enabled {
		&:hover {
			background-color: rgba(40, 45, 55, 0.14);

			&:checked {
				background-color: checkbox.$checkbox-hover-checked-backgroundColor;
			}
		}

		&:active {
			background-color: rgba(40, 45, 55, 0.14);
		}
	}

	&:indeterminate {
		&::before {
			content: icons.glyph(minus);
		}
	}

	&:disabled {
		&,
		& + label {
			opacity: 0.5;
		}
	}

	& + label {
		@extend %form-label;

		padding-inline-start: variables.$db-spacing-xs;
	}
}
